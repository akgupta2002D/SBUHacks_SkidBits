from pydub import AudioSegment
from pydub.silence import detect_silence

def detect_silence_count(audio_path):
    # Load the audio file
    audio = AudioSegment.from_file(audio_path)

    # Detect silence, adjust parameters as needed
    silence = detect_silence(audio, min_silence_len=1500, silence_thresh=-40)

    # Check if any silence was detected
    if not silence:
        print("No silences were detected.")
        return 0
    else:
        # Convert silence times to seconds
        silence_in_seconds = [(start / 1000, stop / 1000) for start, stop in silence]
        
        # Print the count of pauses
        print(f"Pauses: {len(silence_in_seconds)}")
        
        # Print each pause duration on a new line
        for start, stop in silence_in_seconds:
            print(f"{start:.1f}s - {stop:.1f}s")

        return len(silence_in_seconds)

# Example usage
audio_path = r"C:\Users\shidi\Projects\SBUHacks_SkidBits\Steven's Folder\recordingdemo.mov"
silence_count = detect_silence_count(audio_path)
